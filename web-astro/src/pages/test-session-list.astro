---
import BaseLayout from '../layouts/BaseLayout.astro';
import SessionList from '../lib/components/SessionList.svelte';
---

<BaseLayout title="Session List Test">
  <div class="container mx-auto p-4">
    <h1 class="text-2xl font-bold mb-4">Session List Component Test</h1>

    <div class="mb-4">
      <p class="text-gray-600 mb-4">
        This page tests the SessionList component migrated from Lit to Svelte 5.
        The component should display sessions, handle keyboard navigation, and provide
        various session management features.
      </p>
    </div>

    <div class="border rounded-lg p-4 bg-white">
      <SessionList
        client:only="svelte"
        loading={false}
        hideExited={true}
        compactMode={false}
        onnavigateToSession={(detail) => console.log('Navigate to session:', detail)}
        onrefresh={() => console.log('Refresh requested')}
        onerror={(detail) => console.error('Error:', detail)}
        onhideExitedChange={(detail) => console.log('Hide exited changed:', detail)}
        onkillAllSessions={() => console.log('Kill all sessions requested')}
      />
    </div>

    <div class="mt-8 p-4 bg-gray-50 rounded-lg">
      <h2 class="text-lg font-semibold mb-2">Test Instructions</h2>
      <ul class="list-disc list-inside space-y-1 text-sm text-gray-700">
        <li>Use arrow keys to navigate between sessions</li>
        <li>Press Enter to select a session</li>
        <li>Try the "Show" toggle to display exited sessions</li>
        <li>Test the "Clean" button when exited sessions are shown</li>
        <li>Check keyboard navigation and focus management</li>
      </ul>
    </div>
  </div>
</Layout>